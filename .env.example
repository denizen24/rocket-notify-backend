# ============================================
# REQUIRED VARIABLES
# ============================================

# Telegram Bot token (get from @BotFather)
TELEGRAM_BOT_TOKEN=your_telegram_bot_token_here

# Salt for encrypting Rocket.Chat tokens (minimum 32 characters)
# IMPORTANT: Use a random string, e.g.: openssl rand -hex 32
RC_TOKEN_SALT=your_random_salt_here_minimum_32_characters

# ============================================
# OPTIONAL VARIABLES (with default values)
# ============================================

# Application port (default: 3000)
PORT=3000

# MongoDB connection URL
# Format: mongodb://[username:password@]host[:port][/database][?options]
# Default: mongodb://admin:password@localhost:27017/rocket-notify?authSource=admin
DATABASE_URL=mongodb://admin:password@localhost:27017/rocket-notify?authSource=admin

# Redis connection URL
# Default: redis://localhost:6379
REDIS_URL=redis://localhost:6379

# ============================================
# WEBHOOK CONFIGURATION (optional)
# ============================================
# If not specified, bot will work in polling mode (periodic update polling)

# Public HTTPS URL for webhook (without path, /webhook/rocketnotify is added automatically)
# Example: https://your-subdomain.tuna.am
# Note: If using Tuna Tunnel, URL will be: https://${TUNA_SUBDOMAIN}.tuna.am
TELEGRAM_WEBHOOK_URL=

# Secret token for webhook (used to verify requests from Telegram)
# IMPORTANT: Use a random string, e.g.: openssl rand -hex 32
TELEGRAM_WEBHOOK_SECRET=

# ============================================
# DOCKER COMPOSE VARIABLES
# ============================================
# These variables are only used when running via docker-compose

# MongoDB root username (default: admin)
MONGO_ROOT_USERNAME=admin

# MongoDB root password (required for docker-compose)
MONGO_ROOT_PASSWORD=your_mongo_password_here

# Tuna Tunnel token (get from https://tuna.am)
# Required only if using Tuna Tunnel for webhook
TUNA_TOKEN=

# Tuna Tunnel subdomain (e.g.: rocketnotify-bot)
# Required only if using Tuna Tunnel for webhook
# URL will be: https://${TUNA_SUBDOMAIN}.tuna.am
TUNA_SUBDOMAIN=

# ============================================
# NOTES
# ============================================
# 1. Copy this file to .env and fill in all required variables
# 2. To generate random strings use:
#    - openssl rand -hex 32 (for RC_TOKEN_SALT and TELEGRAM_WEBHOOK_SECRET)
# 3. Webhook mode:
#    - If TELEGRAM_WEBHOOK_URL and TELEGRAM_WEBHOOK_SECRET are set, webhook mode is used
#    - Otherwise polling mode is used (bot periodically polls for updates)
# 4. Docker Compose:
#    - DATABASE_URL and REDIS_URL are automatically configured for Docker network
#    - For local development use default values or specify your own